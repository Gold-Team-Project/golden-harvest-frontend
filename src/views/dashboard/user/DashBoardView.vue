<template>
  <div class="dashboard-content">
    <header class="section-header">
      <h2>êµ¬ë§¤ í˜„í™©</h2>
    </header>

    <div class="stat-container">
      <div v-for="(stat, idx) in stats" :key="idx" class="stat-card">
        <div class="stat-info">
          <div class="stat-header">
            <span class="stat-label">{{ stat.label }}</span>
            <img :src="stat.icon" :alt="stat.label" class="stat-icon-svg" />
          </div>
          <div class="stat-value-group">
            <span class="stat-value">{{ stat.value }}</span>
            <span class="stat-unit">{{ stat.unit }}</span>
          </div>
        </div>
      </div>
    </div>

    <section class="order-status-card">
      <h3>ì£¼ë¬¸ ì§„í–‰ ìƒí™©</h3>
      <div class="stepper-container">
        <div class="stepper-line"></div>
        <div class="stepper-wrapper">
          <div v-for="(step, idx) in orderSteps" :key="idx" class="step-item">
            <div class="step-icon-only">
              <img :src="step.icon" :alt="step.label" class="step-svg" />
            </div>
            <span class="step-label">{{ step.label }}</span>
            <span class="step-count">{{ step.count }} <small>orders</small></span>
          </div>
        </div>
      </div>
    </section>

    <section class="favorite-section">
      <div class="section-header-flex">
        <div class="title-group">
          <h3>ìì£¼ êµ¬ë§¤í•œ ìƒí’ˆ</h3>
          <span class="sub-desc">ì£¼ê°„ êµ¬ë§¤ ë¹ˆë„ ê¸°ì¤€</span>
        </div>
      </div>

      <div class="item-grid">
        <div v-for="(item, idx) in favoriteItems" :key="idx" class="item-card">
          <div class="item-image">
            <span class="box-icon">ğŸ“¦</span>
          </div>
          <div class="item-details">
            <p class="item-name">{{ item.name }}</p>
            <div class="price-info">
              <span class="price"><strong>{{ item.price }}</strong>ì›</span>
              <span class="count-tag">{{ item.count }}íšŒ êµ¬ë§¤</span>
            </div>
          </div>
          <button class="cart-btn">ë‹´ê¸°</button>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup>
import { ref } from 'vue';
import DayIcon from '@/assets/day.svg';
import WeeklyIcon from '@/assets/weekly.svg';
import MonthlyIcon from '@/assets/monthly.svg';
import AverageIcon from '@/assets/average.svg';
import TotalIcon from '@/assets/total.svg';
import OrderIcon from '@/assets/order-completed.svg';
import ProductIcon from '@/assets/product-packaging.svg';
import ShippingIcon from '@/assets/shipping.svg';
import DeliveryIcon from '@/assets/delivery-completed.svg';
import CancelIcon from '@/assets/cancel.svg';

const stats = ref([
  { label: 'ë‹¹ì¼', value: '123', unit: 'orders', icon: DayIcon },
  { label: 'ì£¼ê°„', value: '876', unit: 'orders', icon: WeeklyIcon },
  { label: 'ì›”ê°„', value: '3,734', unit: 'orders', icon: MonthlyIcon },
  { label: 'í‰ê·  ì£¼ë¬¸ ìˆ˜', value: '121', unit: '/ day', icon: AverageIcon },
  { label: 'ì´í•©', value: '177,73', unit: 'YDT', icon: TotalIcon },
]);

const orderSteps = ref([
  { label: 'ì£¼ë¬¸ ì ‘ìˆ˜', count: 12, icon: OrderIcon },
  { label: 'ìƒí’ˆ ì¤€ë¹„ì¤‘', count: 5, icon: ProductIcon },
  { label: 'ë°°ì†¡ì¤‘', count: 8, icon: ShippingIcon },
  { label: 'ë°°ì†¡ ì™„ë£Œ', count: 42, icon: DeliveryIcon },
  { label: 'ì£¼ë¬¸ ì·¨ì†Œ', count: 2, icon: CancelIcon },
]);

// ë°ì´í„°ë¥¼ 5ê°œë¡œ ë§ì¶¤
const favoriteItems = ref([
  { name: 'ìœ ê¸°ë† í˜„ë¯¸ í–‡ë°˜ 210g x 24ê°œ', count: 15, price: '32,400' },
  { name: 'ì œì£¼ ì‚¼ë‹¤ìˆ˜ 2L x 12ë³‘', count: 12, price: '11,800' },
  { name: 'ê³ ë‹¹ë„ ìŠ¤í…Œë¹„ì•„ ë°©ìš¸í† ë§ˆí† ', count: 9, price: '8,900' },
  { name: 'ë¬´í•­ìƒì œ ì‹ ì„ ë€ 30êµ¬', count: 8, price: '7,500' },
  { name: 'ëŒ€íŒ¨ ì‚¼ê²¹ì‚´ 1kg (ëƒ‰ë™)', count: 5, price: '15,900' },
]);
</script>

<style scoped>

.section-header h2 {
  font-size: 22px;
  font-weight: 700;
  margin-top: 0;
  margin-bottom: 10px; /* ì•„ë˜ ì§€í‘œ ì¹´ë“œì™€ì˜ ê°„ê²© */
  padding-top: -20px;
}

.stat-container {
  display: flex; background: white; border-radius: 20px;
  border: 1px solid #E0E4E0; margin: 0 20px 25px 20px;
}
.stat-card { flex: 1; padding: 10px 20px; border-right: 1px solid #F0F0F0; }
.stat-card:last-child { border-right: none; }
.stat-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; min-height: unset; }
.stat-label { color: #888; font-size: 15px; font-weight: 700; }

.stat-icon-svg { width: 32px; height: 32px; object-fit: contain; }
.stat-card:first-child .stat-icon-svg {
  width: 40px !important; height: 40px !important;
  transform: scale(4); transform-origin: center;
}

.stat-value { font-size: 28px; font-weight: 800; color: #333; }
.stat-unit { font-size: 13px; color: #AAA; margin-left: 6px; }

.order-status-card {
  background: white; padding: 15px 35px; border-radius: 20px;
  border: 1px solid #E0E4E0; margin: 0 20px 25px 20px;
}
.order-status-card h3 { font-size: 18px; font-weight: 700; margin-bottom: 15px; }
.stepper-container { position: relative; padding: 0 40px; }
.stepper-line { position: absolute; top: 25px; left: 60px; right: 60px; height: 2px; background: #E6F9E6; z-index: 1; }
.stepper-wrapper { display: flex; justify-content: space-between; position: relative; z-index: 2; }
.step-item { text-align: center; flex: 1; display: flex; flex-direction: column; align-items: center; }
.step-icon-only {
  width: 50px; height: 50px; background: white;
  display: flex; align-items: center; justify-content: center; margin-bottom: 12px;
}
.step-svg { width: 45px; height: 45px; object-fit: contain; }
.step-label { font-weight: 700; font-size: 14px; color: #444; margin-bottom: 4px; }
.step-count { font-size: 13px; color: #11D411; font-weight: 600; }

.favorite-section {
  flex-grow: 1; /* ë‚¨ì€ í•˜ë‹¨ ê³µê°„ì„ ì±„ì›€ */
  background: white;
  padding: 25px 35px; /* ì£¼ë¬¸ ì§„í–‰ ìƒí™© ì¹´ë“œ(35px)ì™€ ë™ì¼í•œ ì¢Œìš° íŒ¨ë”© */
  border-radius: 20px;
  border: 1px solid #E0E4E0;
  margin: 0 20px 20px 20px; /* ì¢Œ, ìš°, í•˜ë‹¨ ë§ˆì§„ë§Œ ì£¼ì–´ ìœ„ ì¹´ë“œì™€ ê°„ê²© ìœ ì§€ */
  display: flex;
  flex-direction: column;
}

/* ì£¼ë¬¸ ì§„í–‰ ìƒí™© h3ì™€ ë™ì¼í•˜ê²Œ ì‚¬ì´ì¦ˆ ë§ì¶¤ */
.favorite-section h3 {
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 15px; /* ìš”ì²­í•˜ì‹  30px ë§ˆì§„ ì ìš© */
  color: #333;
}

.section-header-flex {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
}

.sub-desc {
  font-size: 12px;
  color: #AAA;
  font-weight: 400;
  margin-left: 10px; /* ì œëª© ì˜†ì— ë¶™ì„ ë•Œ ê°„ê²© */
}

/* ì•„ì´í…œ ê·¸ë¦¬ë“œ (ì‚ì ¸ë‚˜ê°€ì§€ ì•Šê²Œ ìµœì í™”) */
.item-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 15px;
}

.item-card {
  border: 3px solid #F2F2F2;
  border-radius: 12px;
  padding: 10px 0px;
  text-align: left;
  background: #fff;

  /* 1. ê¸°ë³¸ ê·¸ë¦¼ì íš¨ê³¼ (ì€ì€í•˜ê²Œ) */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);

  /* ë¶€ë“œëŸ¬ìš´ ì „í™˜ íš¨ê³¼ */
  transition: all 0.2s ease-in-out;
}

/* 2. ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¸ì„ ë•Œ(hover) íš¨ê³¼ */
.item-card:hover {
  /* ê·¸ë¦¼ìë¥¼ ë” ì§„í•˜ê²Œ í•˜ì—¬ ìœ„ë¡œ ë¶• ëœ¬ ëŠë‚Œ */
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
  /* í…Œë‘ë¦¬ ìƒ‰ìƒë„ ì‚´ì§ ê°•ì¡° (ì„ íƒ ì‚¬í•­) */
  border-color: #D1D9E0;
  /* ì‚´ì§ ìœ„ë¡œ ì´ë™í•˜ëŠ” íš¨ê³¼ */
  transform: translateY(-4px);
}

.item-image {
  width: 100%;
  height: 160px;
  background: #f8f8f8;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 12px;
}

.box-icon { font-size: 24px; }

.item-name {
  font-size: 13px;
  font-weight: 700;
  color: #333;
  height: 38px;
  overflow: hidden;
  margin-bottom: 8px;
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.price-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.price { font-size: 15px; color: #333; }
.count-tag { font-size: 10px; color: #11D411; font-weight: 700; background: #f0fff0; padding: 2px 6px; border-radius: 4px; }

.cart-btn {
  width: 100%;
  padding: 8px;
  font-size: 12px;
  font-weight: 700;
  border: 1px solid #11D411;
  color: #11D411;
  background: white;
  border-radius: 6px;
  cursor: pointer;
}
.cart-btn:hover { background: #11D411; color: white; }
</style>